# Changelog

## [Unreleased]
- #237 Исправлен баг с редактированием Ticket. Убраны аннотации @Data из проекта.

## [1.0.5] - 19.07.2023
- #230 Мягкое удаление Destination
- #247 Исправлен баг, если передать в convertToTicketEntity несуществующие flightId/flightSeatId/passengerId вылетает NPE
- #244 Замена Put на Patch в Passenger. Новый update в PassengerServiceImpl. null поля в DTO игнорируются. Проверены апишки на Patch методы. Скорректированы зависимости, контроллер и тест.
- #243 Исправлен баг, в Patch Destination теперь возвращается обновленная сущность
- #246 Настройки переменных окружения перенесены из airline-deployment в airline-configmap
- #245 Добавлена configMap для payments.
- #228 рефакторинг метода generate в SeatServiceImpl + тест + в pom.xml убраны дублированные зависимости
- #240 Рефакторинг FlightSeatDTO замена seatId на seatNumber. Поправил FlightSeatDTOTest.
- #239 Добавлена JWT авторизация в SWAGGER. По логину и паролю получаем access и refresh токены. По кнопке Authorize делаем авторизацию c access.
- #252 замена локальных переменных на var + правка () названий переменных

## [1.0.4] - 23.06.2023
- #241 - Исправлен баг с id ticket'а при post запросе. Теперь при неправильных id билета, рейса и пассажира возвращает 400 ошибку вместо 500
- #195 - В configMap настроено обращение к airline-payments при деплое в кубере
- #159 - В deployments kubernetes'а добавлена configMap, хранящая application.yml от airline-project'а при деплое в кубере.
- #221 - фильтры по городам и датам для метода получения всех полетов
- #225 - Отключние секьюрити для профиля noSecurity и обновление гайда по Postman
- #235 - исправлены ошибки пароля и паспорта. Теперь паспорт отображается в JSON корректно, пароль отвечает заданным требованиям 
- #215 Timezone CRUD и интеграционные тесты к ней
- #218 Добавлена пагинация, для Ticket как в других контроллерах
- #242 Фикс ticket API. В тело ответа добавлен id. Добавлена проверка id на null в TicketRestControllerIT

## [1.0.3.hf2] - 14.06.2023
- #238 - фикс странички логина. Можно снова заходить по /login, а не /login.html

## [1.0.3.hf1] - 14.06.2023
- #- Фикс редиректа на форму логина для неавторизованных запросов
- #181 Удаленный дебаг airline_project
- #187 Readiness и Liveness пробы для airline-payment
- #221 Фильтры для получения всех Flight
- #219 Рефакторинг FlightSeat API: добавлены фильтры для поиска всех FlightSeat, добавлен эндпоинт для получения всех непроданных FlightSeat
- #224 Тесты для обработки исключений
- #209 Тесты FlightSeatRestController и SeatRestController
- #208 Объединение фильтров для поиска всех Passenger

## [1.3.0] - 03.06.2023

- #166 Временно убрано удаление Destination
- #220 Рефакторинг создания Passenger
- #210 Обработка исключений
- #214 Добавлен фильтр по timezone для получения всех Destination 
- #213 Правки секурити: увеличение времени жизни jwt токена, убран редирект на страницу логина в случе протухания токена
- #212 Рефакторинг FlightDTO, в теле запроса вместо Destination теперь Airport
- #211 Рефакторинг получения самых дешевых сидений в своей категории

## [1.2.0] - 22.05.2023

- #196 Фикс пагинации для всех контроллеров

## [1.1.0] - 19.05.2023

- #193 Фикс удаления Passenger
- #205 Фикс удаления Flight
- #206 Фильтры для поиска всех Destination
- #200 Рефакторинг Search, возвращение одной сущности с вложенными массивами
- #191 Фикс создания Booking
- #188 Начальная настройка Paypal
- #199 Фикс получения Seat
- #174 Возможность обращения airline-project в airline-payments

## [1.0.0]

- Одному Богу известно, что тут было